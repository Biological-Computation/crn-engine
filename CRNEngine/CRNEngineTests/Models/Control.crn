directive simulation {final=36; points=2500; plots=[(([x] * [fp]) + f0)]; multicore=True; }
directive simulator sundials
directive parameters [
  C12 = 0;
  C6 = 0;
  K = 2;
  KGR_76 = 0.08657;
  KGR_81 = 0.003329;
  KGS_76 = 0.0004788;
  KGS_81 = 0.4249;
  KR12 = 4.937E-07;
  KR6 = 0.0002076;
  KS12 = 0.008827;
  KS6 = 1.71E-08;
  Klas = 1;
  Klux = 1;
  aCFP = 1000;
  aR33 = 0.0589;
  aS175 = 0.0297;
  aYFP = 1000;
  autoCFP = 5;
  autoYFP = 0.1;
  c0 = 0.001;
  cb0 = 0;
  dCFP = 0.1;
  dR = 0.1;
  dS = 0.1;
  dYFP = 0.1;
  dfp = 0.0506440365957012, {interval=Log; distribution=TruncatedNormal(0.0506440365957012,0.000383734102141114,0.001,1); variation=Random};
  dlasI = 0.1;
  dluxI = 0.1;
  e76 = 0.01;
  e81 = 0.01;
  f0 = 5000, {interval=Real; distribution=Uniform(0,10000); variation=Random};
  kC12 = 1;
  kC6 = 1;
  nR = 0.797;
  nS = 0.797;
  r = 1;
  tlag = 1;
  yb0 = 0;
]
directive inference {name=control; burnin=50; samples=50; thin=1; noise_model=proportional; print_summary=false; partial=true}
directive rates [
  P76 = (((e76 + (KGR_76 * [boundLuxR])) + (KGS_76 * [boundLasR])) / ((1 + (KGR_76 * [boundLuxR])) + (KGS_76 * [boundLasR])));
  P81 = (((e81 + (KGR_81 * [boundLuxR])) + (KGS_81 * [boundLasR])) / ((1 + (KGR_81 * [boundLuxR])) + (KGS_81 * [boundLasR])));
  boundLasR = (([lasR] ^ 2) * ((((KS6 * [c6]) ^ nS) + ((KS12 * [c12]) ^ nS)) / (((1 + (KS6 * [c6])) + (KS12 * [c12])) ^ nS)));
  boundLuxR = (([luxR] ^ 2) * ((((KR6 * [c6]) ^ nR) + ((KR12 * [c12]) ^ nR)) / (((1 + (KR6 * [c6])) + (KR12 * [c12])) ^ nR)));
  // capacity = rc;
  growth = (([grow] * r) * (1 - ([x] / K)))
]



system control_device0 = { 
directive simulation {final=36; points=2500; plots=[(([x] * [fp]) + f0)]; sweeps=[sweep_dataset0_device0] }
directive parameters [  rc = 100, {interval=Log; distribution=Uniform(1,100000); variation=Multiple};]
directive sweeps [
  sweep_dataset0_device0 = [(r,K,tlag,C6,C12) = [(1.08004743666844,2.83491639911,0.244871351190972,25000,0); (1.16364136161225,2.71998241838471,1.2514535340636,8333.33333333333,0); (1.1974569029839,2.63518912679247,1.41826304323672,2777.77777777778,0); (1.04630344344114,2.50398183137835,0.770214736490507,925.925925925926,0); (1.24123441081613,2.47763930474205,1.60346160769792,308.641975308642,0); (1.35597428259363,2.44273410426596,1.85891840361415,102.880658436214,0); (1.43140397602829,2.41401673336423,1.77495342768103,34.2935528120713,0); (1.49999438253828,2.35538411309731,2.11442718257005,11.4311842706904,0); (1.47995511220758,2.32226460970733,2.01617821482426,3.81039475689681,0); (1.48364876864658,2.39030895083479,1.70902020480659,1.27013158563227,0); (1.12633075918546,2.39121607683884,1.96830996615069E-05,0.423377195210757,0); (1.12555965795459,2.37039327123114,1.86030507756558E-05,0,0); (1.09484540831898,2.47308967749727,0.911010421129164,0,25000); (1.094106343169,2.41339869942024,0.776854677848213,0,8333.33333333333); (1.24108772126988,2.33264630832628,1.84753370107643,0,2777.77777777778); (1.1970572772694,2.26976771240775,1.74539161119593,0,925.925925925926); (1.37369584613457,2.25766991118094,2.25447088011337,0,308.641975308642); (1.17191299561963,2.26402309756489,0.693134649758703,0,102.880658436214); (1.36116854611293,2.19857555960778,1.65068107108985,0,34.2935528120713); (1.49999682324306,2.25008039796361,1.9230166241539,0,11.4311842706904); (1.16857321536289,2.13340168090519,0.402660357272482,0,3.81039475689681); (1.16107426355699,2.23358686150765,0.000239080275220748,0,1.27013158563227); (1.09752133360697,2.19214638595824,0.000965178070245883,0,0.423377195210757); (1.09145105243095,2.21872311764747,1.46782589288645E-05,0,0)]; c0 = [0.002]];
]
directive data [R33S175_Y81C76_mRFP1_proc141021]
directive rates [
  capacity = rc;
]

| c0 x
| 1 grow @ tlag
| ->[([growth] * [x])] x
| fp ->[([growth] * [fp])]
| ->[[capacity]] fp
| fp ->{dfp}
}

system control_device1 = { 
directive simulation {final=36; points=2500; plots=[(([x] * [fp]) + f0)]; sweeps=[sweep_dataset1_device1] }
directive parameters [  rc = 100, {interval=Log; distribution=Uniform(1,100000); variation=Multiple};]
directive sweeps [
  sweep_dataset1_device1 = [(r,K,tlag,C6,C12) = [(1.14472822573444,2.5849566698088,1.15109777643733,25000,0); (0.988190900281697,2.289818059365,0.450204386688981,8333.33333333333,0); (0.947487673281174,2.0326356204739,2.10272798218265E-05,2777.77777777778,0); (1.00411756469878,1.98275230859202,0.126052814557767,925.925925925926,0); (1.03446678077154,1.85712748950743,0.265038123497866,308.641975308642,0); (0.996007218254074,1.78263552182235,0.000377866329869289,102.880658436214,0); (1.02710261655202,1.65647421544527,0.059306355045213,34.2935528120713,0); (1.01992199981263,1.53521928290483,1.87641152184803E-05,11.4311842706904,0); (1.01862870474308,1.53695726512019,2.64043117939958E-06,3.81039475689681,0); (1.25063995997765,1.93692493570127,6.25525507725508E-06,1.27013158563227,0); (1.29354233650814,1.8775824896287,1.60947058651029E-05,0.423377195210757,0); (0.926152871503185,1.51379196434738,9.0491067615521E-06,0,0); (0.860968275716626,2.01090282198208,7.11654043573235E-06,0,25000); (0.92738983939659,1.60601565064712,1.17400774932916E-05,0,8333.33333333333); (0.962753303686983,1.52431114399438,0.00070780319040591,0,2777.77777777778); (1.01133636065385,1.40840944493033,0.167655886039289,0,925.925925925926); (1.04717686723377,1.3665431265477,0.414821618690207,0,308.641975308642); (0.959242168635171,1.40658859105629,3.15038314447483E-05,0,102.880658436214); (1.28839468187911,1.27811774598226,1.2512181430159,0,34.2935528120713); (1.04996431326614,1.30183893528095,0.279402414980057,0,11.4311842706904); (1.07112691724471,1.38604102867346,0.279134860465776,0,3.81039475689681); (1.00192358959391,1.40628785315802,2.90763797766035E-05,0,1.27013158563227); (1.00354169686047,1.38223384865042,0.000122024348644348,0,0.423377195210757); (0.912158180741903,1.45180262336913,9.47193938407643E-06,0,0)]; c0 = [0.002]];
]
directive data [R33S32_Y81C76_mRFP1_proc140916]
directive rates [
  capacity = rc;
]

| c0 x
| 1 grow @ tlag
| ->[([growth] * [x])] x
| fp ->[([growth] * [fp])]
| ->[[capacity]] fp
| fp ->{dfp}
}

system control_device2 = { 
directive simulation {final=36; points=2500; plots=[(([x] * [fp]) + f0)]; sweeps=[sweep_dataset1_device2] }
directive parameters [  rc = 100, {interval=Log; distribution=Uniform(1,100000); variation=Multiple};]
directive sweeps [
  sweep_dataset1_device2 = [(r,K,tlag,C6,C12) = [(1.28869447318943,2.53350882792099,0.847586832864763,25000,0); (1.25998357511348,2.42351408600613,1.25549975382479,8333.33333333333,0); (1.32919152333734,2.3667769552081,1.7252587260481,2777.77777777778,0); (1.24144602925483,2.27439334125125,1.6230588659872,925.925925925926,0); (1.48060510104102,2.3592353222628,2.10909664338517,308.641975308642,0); (1.43655718898067,2.32098018934185,2.11809880642801,102.880658436214,0); (1.45668045556322,2.37764406218839,1.9184691211986,34.2935528120713,0); (1.46669160078979,2.34840484820746,1.63499775950294,11.4311842706904,0); (1.47942537686683,2.30104112535352,2.25081842807254,3.81039475689681,0); (1.17619650193953,2.31510993934298,0.242832333577985,1.27013158563227,0); (1.13361927185725,2.34134118766664,1.14654180133644E-05,0.423377195210757,0); (1.13210869074004,2.35000487825799,1.18205985198392E-05,0,0); (1.12720568817857,2.36908968824248,0.144248126458834,0,25000); (1.23436389150492,2.30369211741988,0.847651246255989,0,8333.33333333333); (1.3506188164975,2.27126299974193,1.33769249904125,0,2777.77777777778); (1.32480379620768,2.23839900455145,1.40222909275022,0,925.925925925926); (1.4135059407933,2.24201711063593,1.66835991794767,0,308.641975308642); (1.41963792854025,2.27026316618062,1.50357360798981,0,102.880658436214); (1.29993901633509,2.20509125724138,0.880533092200281,0,34.2935528120713); (1.2063647807544,2.23536204128184,0.292070103068299,0,11.4311842706904); (1.15403266169967,2.1480286034524,2.77811385803842E-05,0,3.81039475689681); (1.14554130515575,2.05979779093092,4.51001925205213E-05,0,1.27013158563227); (1.11345667628087,1.98054515743277,3.37831435462657E-05,0,0.423377195210757); (1.06121926973029,1.96896542553491,9.19635657564802E-06,0,0)]; c0 = [0.002]];
]
directive data [RS100S32_Y81C76_mRFP1_proc140916]
directive rates [
  capacity = rc;
]

| c0 x
| 1 grow @ tlag
| ->[([growth] * [x])] x
| fp ->[([growth] * [fp])]
| ->[[capacity]] fp
| fp ->{dfp}
}

system control_device3 = { 
directive simulation {final=36; points=2500; plots=[(([x] * [fp]) + f0)]; sweeps=[sweep_dataset2_device3] }
directive parameters [  rc = 100, {interval=Log; distribution=Uniform(1,100000); variation=Multiple};]
directive sweeps [
  sweep_dataset2_device3 = [(r,K,tlag,C6,C12) = [(1.20834519968408,2.30597964405146,0.90565519804806,25000,0); (1.02213623411141,1.90872412924782,0.349431796110282,8333.33333333333,0); (1.08361227986235,1.95395184716422,0.563296095618478,2777.77777777778,0); (0.966733757539327,1.66979692669732,4.27180418085558E-05,925.925925925926,0); (0.963722880743978,1.56311046652948,9.34196365446697E-05,308.641975308642,0); (0.955467206287672,1.55633822668148,2.64469995463283E-05,102.880658436214,0); (0.916137731165683,1.60317203271763,5.70451375332668E-06,34.2935528120713,0); (1.05280586830831,1.31129580682482,0.360457537353732,11.4311842706904,0); (0.952828103598523,1.34616279747371,1.3015076762067E-05,3.81039475689681,0); (1.13569207255205,2.20367851020325,9.42842263438138E-06,1.27013158563227,0); (1.14833865653578,2.23163458948845,3.57026412138326E-06,0.423377195210757,0); (0.916796473755846,1.31034377486793,-6.30516227205099E-06,0,0); (0.827243418598758,1.8961743239258,2.05769238330769E-05,0,25000); (0.878311132975218,1.56569358524918,4.01594231498365E-06,0,8333.33333333333); (0.937869033662311,1.32957419670537,4.7367359037133E-05,0,2777.77777777778); (1.07511815967711,1.22978950095907,0.694519919977341,0,925.925925925926); (1.28049909142034,1.12271279642149,1.50675918788828,0,308.641975308642); (1.29523012558368,1.12091350110768,1.54814057042178,0,102.880658436214); (1.33194193486647,1.0906277776307,1.62717428537462,0,34.2935528120713); (1.36869710780416,1.05937865518709,1.78260856085837,0,11.4311842706904); (1.28645086453518,1.09017912692694,1.48985410244496,0,3.81039475689681); (0.936941362190915,1.26538898991233,4.70243784175068E-06,0,1.27013158563227); (1.12929277501755,1.13668644678882,1.00362900207022,0,0.423377195210757); (0.908985635850582,1.28304637206904,4.316677403014E-06,0,0); (0.867189514961553,2.24147947748503,3.83940311914735E-06,25000,0); (0.936950520347929,1.27819893933097,0.0574649822966165,8333.33333333333,0); (1.25872545729296,1.11493928092738,1.53624317866198,2777.77777777778,0); (1.3734548718368,1.09438749815735,1.90346034591358,925.925925925926,0); (1.40707361599952,1.03053867057398,1.98716983813313,308.641975308642,0); (1.33897945913174,1.0028046345358,1.84098487599154,102.880658436214,0); (1.40105458030021,1.00848208565411,2.02364490681882,34.2935528120713,0); (1.40340015197595,1.02179490844172,1.99490008603697,11.4311842706904,0); (1.41681540691642,1.01314016917382,2.08765586834665,3.81039475689681,0); (1.38272836326182,1.00337682743147,1.98028447443397,1.27013158563227,0); (1.38393245535738,1.02902383898653,1.97410137044448,0.423377195210757,0); (0.909891588649721,1.28046149220093,2.96477088884317E-07,0,0); (0.750657340789204,2.14525150160782,1.00863328282076E-06,0,25000); (0.8086721292891,1.59314145219915,5.78965383871119E-06,0,8333.33333333333); (0.907715313766961,1.28159788935697,3.60384769948788E-06,0,2777.77777777778); (0.86108100165228,1.37252564446124,4.65348031465094E-06,0,925.925925925926); (0.875688030791233,1.30595514556669,4.9130087188981E-07,0,308.641975308642); (0.795525847037836,1.56216276698906,7.45748801659716E-07,0,102.880658436214); (0.815252431536114,1.45484029330081,4.47966294611801E-08,0,34.2935528120713); (0.778249217781475,1.49759519564459,7.34426969861257E-06,0,11.4311842706904); (0.785006158324326,1.53535255126645,1.57730505910622E-06,0,3.81039475689681); (0.831477612138695,1.39638419834893,1.52630634813771E-05,0,1.27013158563227); (0.770536056004561,1.5304962251182,7.8412043249009E-06,0,0.423377195210757); (0.770677661152897,1.60471997196485,5.95633401177733E-06,0,0)]; c0 = [0.002]];
]
directive data [Pcat_Y81C76_mRFP1_proc141006]
directive rates [
  capacity = rc;
]

| c0 x
| 1 grow @ tlag
| ->[([growth] * [x])] x
| fp ->[([growth] * [fp])]
| ->[[capacity]] fp
| fp ->{dfp}
}

node Receivers_control { systems = [control_device0; control_device1; control_device2; control_device3] }